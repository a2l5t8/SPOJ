#include <cstdio>
#include <algorithm>

#define MAXN 100

using namespace std;

int NX, NY, D2[ MAXN + 1 ][ MAXN + 1 ];

int update_X( int x1, int x2 ) {
    for( int i = x1; i <= x2; i++ ) {
        for( int j = 1; j <= NY; j++ ) {
            D2[ j ][ i ] = 1 - D2[ j ][ i ];
        }
    }
}

int update_Y( int y1, int y2 ) {
    for( int i = y1; i <= y2; i++ ) {
        for( int j = 1; j <= NX; j++ ) {
            D2[ i ][ j ] = 1 - D2[ i ][ j ];
        }
    }
}

int area( int x1, int y1, int x2, int y2 ) {
    int A = 0;
    for( int i = y1; i <= y2; i++ ) {
        for( int j = x1; j <= x2; j++ ) {
            A += D2[ i ][ j ];
        }
    }
    return A;
}

void print() {
    for( int i = 1; i <= NY; i++ ) {
        for( int j = 1; j <= NX; j++ ) {
            printf("%d ", D2[ i ][ j ] );
        }
        printf("\n");
    }
}

int main() {
    int Q;
    scanf("%d%d%d", &NX, &NY, &Q );
    while( Q-- ) {
        int q, x1, y1, x2, y2;
        scanf("%d", &q );
        if( q == 0 ) {
            scanf("%d%d", &x1, &x2 );
            update_X( x1,x2 );
        }
        else if( q == 1 ) {
            scanf("%d%d", &y1, &y2 );
            update_Y( y1, y2 );
        } else {
            scanf("%d%d%d%d", &x1, &y1, &x2, &y2 );
            printf("%d\n", area( x1, y1, x2, y2 ) );
        }
        print();
        printf("\n");
    }
    return 0;
}
