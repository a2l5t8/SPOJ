#include <cstdio>
#include <algorithm>
 
using namespace std;
 
int main(void)
{
	while( true ) {
		int N,min;
		scanf("%d",&N);
		if( !N ) {
			break;
		}
		long long A[N],ans=0;
		for(int i=0; i<N; i++) {
			scanf("%lld",&A[i]);
		}
		for(int i=0; i<N; i++) {
			long long maxim = A[i],length = 1,minim=A[i];
			for(int j=i+1; j<N; j++) {
				if(A[j] < minim) {	
					minim = A[j];
				}
				length++;
				maxim = max(length*minim,maxim);
			}
			ans = max(maxim,ans);
		}
		printf("%lld\n",ans);
	}
	return 0;
}
