#include <cstdio>
#include <algorithm>

#define MAXN 100000
#define INF 10000000000LL
#define MOD 10007

typedef unsigned long long llu;

using namespace std;

int main( void )
{
	int N,Q;
	freopen("out1","wt",stdout);
	scanf("%d%d", &N, &Q );
	unsigned long long A[ MAXN + 1 ] = { 0 };
	for( int i = 0; i < Q; i++ ) {
                int q;
                scanf("%d", &q);
                if( q == 0 ) {
                        int u,v,a,b,c;
			scanf("%d%d%d%d%d", &u,&v,&a,&b,&c );
                        for( int j = u; j <= v; j++ ) {
				A[ j ] += (llu)( a*j*j ) % MOD + (llu)( b*j % MOD ) + c % MOD;
				//A[ j ] %= MOD;
			}
                } else {
			unsigned long long ans = 0;
                        int u,v;
                        scanf("%d%d", &u, &v );
                        for( int j = u; j <= v; j++ ) {
				ans += A[ j ];
				ans %= MOD;
			}
			printf("%llu\n", ans );
                }
        }
	return 0;
}
