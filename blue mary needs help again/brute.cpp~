#include <cstdio>
#include <algorithm>
#include <vector>

using namespace std;

int main( void )
{
	int T;
	freopen("test.in","rt",stdin);
	freopen("test.out","wt",stdout);
	scanf("%d", &T );
	while( T-- ) {
		int Q,minim, leave = 0;
		scanf("%d%d", &Q, &minim );
		vector< int > vec;
		while( Q-- ) {
			char c;
			int v;
			scanf("\n");
			c = getchar_unlocked();
			scanf("%d", &v );
			if( c == 'I' ) {
				if( v >= minim ) {
					vec.push_back( v );
				}
			}
			else if( c == 'A' ) {
				for( int i = 0; i < vec.size(); i++ ) {
					vec[ i ] += v;
				}
			}
			else if( c == 'S' ) {
				for( int i = 0; i < vec.size(); i++ ) {
					vec[ i ] -= v;
					if( vec[ i ] < minim ) {
						//printf("vec[ %d] - >%d, minim -> %d\n", i, vec[ i ], minim );
						vec.erase( vec.begin() + i );
						leave++;
						i--;
					}
				}
			} else {
				vector< int > newvec = vec;
				sort( newvec.begin(), newvec.end() );
				if( v > newvec.size() ) {
					printf("-1\n");
				} else {
					printf("%d\n", newvec[ newvec.size() - v ] );
				}
			}
		}
		printf("%d\n", leave );
	}
	return 0;
}
	
