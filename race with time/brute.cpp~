#include <cstdio>
#include <algorithm>

using namespace std;

int main( void )
{
	freopen("test.in","rt",stdin);
	freopen("test.out1","wt",stdout);
	int N,Q, u, v, w;
	char c;
	scanf("%d%d", &N, &Q );
	int A[ N + 1 ];
	for( int i = 1; i <= N; i++ ) {
		scanf("%d", &A[ i ] );
	}
	while( Q-- ) {
		scanf("\n");
		scanf("%c", &c );
		if( c == 'M' ) {
			scanf("%d%d", &u, &v );
			A[ u ] = v;
		} else {
			scanf("%d%d%d", &u, &v, &w );
			int ans = 0;
			for( int i = u; i <= v; i++ ) {
				if( A[ i ] <= w ) {
					ans++;
				}
			}
			printf("%d\n", ans );
		}
	}
	return 0;
}
